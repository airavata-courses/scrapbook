!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ngx-dropzone",["exports","@angular/core","@angular/common","@angular/platform-browser"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-dropzone"]={},e.ng.core,e.ng.common,e.ng.platformBrowser)}(this,(function(e,t,n,o){"use strict";var r=function(){};r.decorators=[{type:t.Directive,args:[{selector:"ngx-dropzone-label"}]}];
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))}function l(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;var p;Object.create;function c(e){return null!=e&&""+e!="false"}!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.DELETE=46]="DELETE"}(p||(p={}));var d=function(){function e(e){this.sanitizer=e,this._removable=!1,this.removed=new t.EventEmitter,this.tabIndex=0}return Object.defineProperty(e.prototype,"file",{get:function(){return this._file},set:function(e){this._file=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removable",{get:function(){return this._removable},set:function(e){this._removable=c(e)},enumerable:!1,configurable:!0}),e.prototype.keyEvent=function(e){switch(e.keyCode){case p.BACKSPACE:case p.DELETE:this.remove()}},Object.defineProperty(e.prototype,"hostStyle",{get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")},enumerable:!1,configurable:!0}),e.prototype._remove=function(e){e.stopPropagation(),this.remove()},e.prototype.remove=function(){this._removable&&this.removed.next(this.file)},e.prototype.readFile=function(){return s(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return[2,new Promise((function(t,n){var o=new FileReader;if(o.onload=function(e){t(e.target.result)},o.onerror=function(t){console.error("FileReader failed on file "+e.file.name+"."),n(t)},!e.file)return n("No file to read. Please provide a file using the [file] Input property.");o.readAsDataURL(e.file)}))]}))}))},e}();d.decorators=[{type:t.Component,args:[{selector:"ngx-dropzone-preview",template:'\n\t\t<ng-content select="ngx-dropzone-label"></ng-content>\n\t\t<ngx-dropzone-remove-badge *ngIf="removable" (click)="_remove($event)">\n\t\t</ngx-dropzone-remove-badge>\n\t',styles:[":host{background-image:linear-gradient(0deg,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}:host:focus,:host:hover{background-image:linear-gradient(0deg,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}:host:focus ngx-dropzone-remove-badge,:host:hover ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host ::ng-deep ngx-dropzone-label{overflow-wrap:break-word}"]}]}],d.ctorParameters=function(){return[{type:o.DomSanitizer}]},d.propDecorators={file:[{type:t.Input}],removable:[{type:t.Input}],removed:[{type:t.Output}],keyEvent:[{type:t.HostListener,args:["keyup",["$event"]]}],hostStyle:[{type:t.HostBinding,args:["style"]}],tabIndex:[{type:t.HostBinding,args:["tabindex"]}]};var u=function(){function e(){}return e.prototype.parseFileList=function(e,t,n,o){for(var r=[],i=[],a=0;a<e.length;a++){var s=e.item(a);this.isAccepted(s,t)?n&&s.size>n?this.rejectFile(i,s,"size"):!o&&r.length>=1?this.rejectFile(i,s,"no_multiple"):r.push(s):this.rejectFile(i,s,"type")}return{addedFiles:r,rejectedFiles:i}},e.prototype.isAccepted=function(e,t){if("*"===t)return!0;var n=t.split(",").map((function(e){return e.toLowerCase().trim()})),o=e.type.toLowerCase(),r=e.name.toLowerCase();return!!n.find((function(e){return e.endsWith("/*")?o.split("/")[0]===e.split("/")[0]:e.startsWith(".")?r.endsWith(e):e==o}))},e.prototype.rejectFile=function(e,t,n){var o=t;o.reason=n,e.push(o)},e}();u.decorators=[{type:t.Injectable}];var g=function(){function e(e){this.service=e,this.change=new t.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._isHovered=!1}return Object.defineProperty(e.prototype,"_hasPreviews",{get:function(){return!!this._previewChildren.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=c(e),this._isHovered&&(this._isHovered=!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=c(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFileSize",{get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function(e){return isNaN(parseFloat(e))||isNaN(Number(e))?null:Number(e)}(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expandable",{get:function(){return this._expandable},set:function(e){this._expandable=c(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disableClick",{get:function(){return this._disableClick},set:function(e){this._disableClick=c(e)},enumerable:!1,configurable:!0}),e.prototype._onClick=function(){this.disableClick||this.showFileSelector()},e.prototype._onDragOver=function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)},e.prototype._onDragLeave=function(){this._isHovered=!1},e.prototype._onDrop=function(e){this.disabled||(this.preventDefault(e),this._isHovered=!1,this.handleFileDrop(e.dataTransfer.files))},e.prototype.showFileSelector=function(){this.disabled||this._fileInput.nativeElement.click()},e.prototype._onFilesSelected=function(e){var t=e.target.files;this.handleFileDrop(t),this._fileInput.nativeElement.value="",this.preventDefault(e)},e.prototype.handleFileDrop=function(e){var t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})},e.prototype.preventDefault=function(e){e.preventDefault(),e.stopPropagation()},e}();g.decorators=[{type:t.Component,args:[{selector:"ngx-dropzone, [ngx-dropzone]",template:'<input #fileInput type="file" [id]="id" [multiple]="multiple" [accept]="accept" [disabled]="disabled"\n  (change)="_onFilesSelected($event)" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledby"\n  [attr.aria-describedby]="ariaDescribedBy">\n<ng-content select="ngx-dropzone-label" *ngIf="!_hasPreviews"></ng-content>\n<ng-content select="ngx-dropzone-preview"></ng-content>\n<ng-content></ng-content>\n',providers:[u],styles:[":host{align-items:center;background:#fff;border:2px dashed #717386;border-radius:5px;color:#717386;cursor:pointer;display:flex;font-size:16px;height:180px;overflow-x:auto}:host.ngx-dz-hovered{border-style:solid}:host.ngx-dz-disabled{cursor:no-drop;opacity:.5;pointer-events:none}:host.expandable{flex-wrap:wrap;height:unset;min-height:180px;overflow:hidden}:host.unclickable{cursor:default}:host ::ng-deep ngx-dropzone-label{margin:10px auto;text-align:center;z-index:10}:host input{height:.1px;opacity:0;overflow:hidden;position:absolute;width:.1px;z-index:-1}:host input:focus+::ng-deep ngx-dropzone-label{outline:1px dotted #000;outline:5px auto -webkit-focus-ring-color}"]}]}],g.ctorParameters=function(){return[{type:u,decorators:[{type:t.Self}]}]},g.propDecorators={_previewChildren:[{type:t.ContentChildren,args:[d,{descendants:!0}]}],_fileInput:[{type:t.ViewChild,args:["fileInput",{static:!0}]}],change:[{type:t.Output}],accept:[{type:t.Input}],disabled:[{type:t.Input},{type:t.HostBinding,args:["class.ngx-dz-disabled"]}],multiple:[{type:t.Input}],maxFileSize:[{type:t.Input}],expandable:[{type:t.Input},{type:t.HostBinding,args:["class.expandable"]}],disableClick:[{type:t.Input},{type:t.HostBinding,args:["class.unclickable"]}],id:[{type:t.Input}],ariaLabel:[{type:t.Input,args:["aria-label"]}],ariaLabelledby:[{type:t.Input,args:["aria-labelledby"]}],ariaDescribedBy:[{type:t.Input,args:["aria-describedby"]}],_isHovered:[{type:t.HostBinding,args:["class.ngx-dz-hovered"]}],_onClick:[{type:t.HostListener,args:["click"]}],_onDragOver:[{type:t.HostListener,args:["dragover",["$event"]]}],_onDragLeave:[{type:t.HostListener,args:["dragleave"]}],_onDrop:[{type:t.HostListener,args:["drop",["$event"]]}]};var f=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",n.imageSrc=n.sanitizer.bypassSecurityTrustUrl(n.defaultImgLoading),n}return a(t,e),Object.defineProperty(t.prototype,"file",{get:function(){return this._file},set:function(e){this._file=e,this.renderImage()},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.renderImage()},t.prototype.renderImage=function(){var e=this;this.readFile().then((function(t){return setTimeout((function(){return e.imageSrc=t}))})).catch((function(e){return console.error(e)}))},t}(d);f.decorators=[{type:t.Component,args:[{selector:"ngx-dropzone-image-preview",template:'\n    <img [src]="imageSrc" />\n\t\t<ng-content select="ngx-dropzone-label"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf="removable" (click)="_remove($event)">\n    </ngx-dropzone-remove-badge>\n\t',providers:[{provide:d,useExisting:f}],styles:[":host{max-width:unset!important;min-width:unset!important;padding:0!important}:host:focus img,:host:hover img{opacity:.7}:host:focus ngx-dropzone-remove-badge,:host:hover ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host img{border-radius:5px;max-height:100%;opacity:.8}:host ::ng-deep ngx-dropzone-label{overflow-wrap:break-word;position:absolute}"]}]}],f.ctorParameters=function(){return[{type:o.DomSanitizer}]},f.propDecorators={file:[{type:t.Input}]};var h=function(){};h.decorators=[{type:t.Component,args:[{selector:"ngx-dropzone-remove-badge",template:'\n    <svg>\n      <line x1="0" y1="0" x2="10" y2="10" />\n      <line x1="0" y1="10" x2="10" y2="0" />\n    </svg>\n  ',styles:[":host{align-items:center;background:#bbb;border-radius:50%;color:#333;cursor:pointer;display:flex;height:22px;justify-content:center;position:absolute;right:5px;top:5px;width:22px}:host:hover{background:#aeaeae}:host>svg{height:10px;width:10px}:host>svg>line{stroke:#fff;stroke-width:2px}"]}]}];var b=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.ngOnInit=function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")},t.prototype.ngOnDestroy=function(){URL.revokeObjectURL(this.videoSrc)},t}(d);b.decorators=[{type:t.Component,args:[{selector:"ngx-dropzone-video-preview",template:'\n    <video *ngIf="sanitizedVideoSrc" controls (click)="$event.stopPropagation()">\n      <source [src]="sanitizedVideoSrc" />\n    </video>\n    <ng-content select="ngx-dropzone-label"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf="removable" (click)="_remove($event)">\n    </ngx-dropzone-remove-badge>\n\t',providers:[{provide:d,useExisting:b}],styles:[":host{max-width:unset!important;min-width:unset!important;padding:0!important}:host:focus video,:host:hover video{opacity:.7}:host:focus ngx-dropzone-remove-badge,:host:hover ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host video{border-radius:5px;max-height:100%}:host ::ng-deep ngx-dropzone-label{overflow-wrap:break-word;position:absolute}"]}]}],b.ctorParameters=function(){return[{type:o.DomSanitizer}]};var y=function(){};y.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[g,r,d,f,h,b],exports:[g,r,d,f,h,b]}]}],e.NgxDropzoneComponent=g,e.NgxDropzoneImagePreviewComponent=f,e.NgxDropzoneModule=y,e.NgxDropzonePreviewComponent=d,e.NgxDropzoneRemoveBadgeComponent=h,e.NgxDropzoneVideoPreviewComponent=b,e.ɵa=u,e.ɵb=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-dropzone.umd.min.js.map